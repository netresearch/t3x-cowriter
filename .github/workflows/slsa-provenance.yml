name: SLSA Provenance

on:
  workflow_run:
    workflows: ["Release"]
    types: [completed]
  workflow_dispatch:
    inputs:
      version:
        description: 'Release version tag (e.g. v4.0.0)'
        required: true
        type: string

permissions: {}

jobs:
  provenance:
    uses: netresearch/typo3-ci-workflows/.github/workflows/slsa-provenance.yml@main
    permissions:
      actions: read
      contents: write
      id-token: write
    with:
      version: ${{ inputs.version }}
